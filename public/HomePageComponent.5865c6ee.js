import{j as o,m as x}from"./motion.4874b803.js";import{r as b}from"./index.7bd93af0.js";import{c as ie}from"./index.d22f8d5f.js";import{A as se}from"./index.ef49585b.js";import{p as Le}from"./index.387d7a00.js";import{u as P}from"./use-animation.9ad3ac63.js";const Ce="_container_7hw26_1",Ee={container:Ce},ke="_bubbleContainer_1xro2_5",Te="_bubbleTransformWrapper_1xro2_22",We="_bubbleScaleWrapper_1xro2_29",Ie="_bubble_1xro2_5",Ne="_bubbleTail_1xro2_37",Fe="_bubbleText_1xro2_43",Me="_italic_1xro2_1",$e="_bubbleMessageAnimWrapper_1xro2_47",E={bubbleContainer:ke,bubbleTransformWrapper:Te,bubbleScaleWrapper:We,bubble:Ie,bubbleTail:Ne,bubbleText:Fe,italic:Me,bubbleMessageAnimWrapper:$e},He=({message:r,tail:t,animState:e})=>{const a=ie(E.bubble,{"bg-lime-400 text-black text-opacity-100":e==="show"},{"bg-lime-300 dark:bg-lime-600 text-opacity-50":e==="midground"},{"bg-lime-100 dark:bg-lime-800 text-opacity-25":e==="background"}),n=ie(E.bubbleTail,{"text-lime-400":e==="show"},{"text-lime-300 dark:text-lime-600":e==="midground"},{"text-lime-100 dark:text-lime-800":e==="background"});return o.jsxs("div",{className:a,children:[o.jsx(se,{children:t&&o.jsx(x.div,{className:n,exit:{x:5,opacity:0,rotateY:40},children:o.jsx("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M1.0911 19.9565C0.712776 19.5337 1.18628 18.7884 1.7501 18.7248C3.18873 18.5625 4.7241 17.7495 6.18173 16.6732C11.2624 12.922 12.931 6.31547 12.931 0V0L25 20.323V20.323C18.3108 20.323 11.3179 24.7014 4.96602 22.604C3.65683 22.1717 2.33634 21.3483 1.0911 19.9565Z",fill:"currentColor"})})})}),o.jsx("span",{className:E.bubbleText,children:r})]})},Oe=({messages:r})=>{const t={start:{opacity:0,x:-140,y:40},show:{opacity:1,x:0,y:0},midground:{opacity:1,x:0,y:0},background:{opacity:1,x:0,y:4},end:{opacity:0,y:-40}},e={start:{scale:.1},show:{scale:1},midground:{scale:.8},background:{scale:.6},end:{scale:.6}};return o.jsx(x.ul,{className:E.bubbleContainer,animate:{translateY:-8},transition:{repeat:1/0,duration:8,repeatType:"reverse",repeatDelay:.125,ease:"linear"},children:o.jsx(se,{children:r.map((a,n)=>{const c=n===r.length-1,s=["show","midground","background"];let u;return r.length===1?u=s[0]:r.length===2?n===0?u=s[1]:u=s[0]:n===0?u=s[2]:n===1?u=s[1]:u=s[0],o.jsx(x.li,{className:E.bubbleMessageAnimWrapper,animate:{translateY:-8},transition:{repeat:1/0,duration:1,repeatType:"reverse",repeatDelay:.125,ease:"easeInOut"},children:o.jsx(x.div,{initial:"start",animate:u,variants:e,exit:"end",transition:{ease:[.83,.005,.725,.905],duration:.33},className:E.bubbleScaleWrapper,layout:!0,children:o.jsx(x.div,{initial:"start",animate:u,variants:t,exit:"end",transition:{ease:[.83,.005,.725,.905],duration:.33},className:E.bubbleTransformWrapper,layout:!0,children:o.jsx(He,{message:a,tail:c,animState:u})})})},`${a}`)})})})},Ge="_homeGraphicWrapper_j0tyu_4",Ve="_laptopLid_j0tyu_8",Pe="_laptopLidImage_j0tyu_17",Ye="_laptopWrapper_j0tyu_22",Xe="_fidgetHand_j0tyu_28",ze="_spriteWrapper_j0tyu_36",Re="_screenGlow_j0tyu_40",L={homeGraphicWrapper:Ge,laptopLid:Ve,laptopLidImage:Pe,laptopWrapper:Ye,fidgetHand:Xe,spriteWrapper:ze,screenGlow:Re,"filter-animation":"_filter-animation_j0tyu_1"};var le={},N={};Object.defineProperty(N,"__esModule",{value:!0});N.useSprite=N.loadImage=void 0;var d=b;function C(r,t){return Be(r)||qe(r,t)||Ze(r,t)||De()}function De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(r,t){if(r){if(typeof r=="string")return oe(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return oe(r,t)}}function oe(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}function qe(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var a=[],n=!0,c=!1,s,u;try{for(e=e.call(r);!(n=(s=e.next()).done)&&(a.push(s.value),!(t&&a.length===t));n=!0);}catch(l){c=!0,u=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(c)throw u}}return a}}function Be(r){if(Array.isArray(r))return r}var Y=function(){},ue=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,a=new Image;a.onload=function(){e(null,a)},a.onerror=function(n){e(n)},a.src=t};N.loadImage=ue;var Ue=function(t){var e=t.startFrame,a=e===void 0?0:e,n=t.sprite,c=t.width,s=t.height,u=t.direction,l=u===void 0?"horizontal":u,i=t.onError,_=i===void 0?Y:i,w=t.onLoad,A=w===void 0?Y:w,m=t.onEnd,F=m===void 0?Y:m,M=t.frameCount,k=t.fps,$=k===void 0?60:k,T=t.shouldAnimate,v=T===void 0?!0:T,H=t.stopLastFrame,O=t.reset,G=t.scale,y=G===void 0?1:G,S=t.wrapAfter,W=t.frame,j=(0,d.useRef)(),X=(0,d.useState)(a),D=C(X,2),I=D[0],z=D[1],ce=(0,d.useState)(0),Z=C(ce,2),de=Z[0],pe=Z[1],fe=(0,d.useState)(0),q=C(fe,2),me=q[0],he=q[1],be=(0,d.useState)(!1),B=C(be,2),V=B[0],U=B[1],ge=(0,d.useState)(!1),J=C(ge,2),ve=J[0],K=J[1],ye=(0,d.useState)(!1),Q=C(ye,2),ee=Q[0],te=Q[1],xe=(0,d.useState)(0),re=C(xe,2),R=re[0],_e=re[1],ae=1e3/$,we=(0,d.useCallback)(function(f){var p=!1;return!ve&&(!V||!ee)&&(K(!0),ue(f,function(h,g){if(!p){if(h){_(h),te(!0);return}A(),U(!0),K(!1),_e(M||Math.floor(l==="horizontal"?g.width/c:g.height/s)),pe(g.width),he(g.height)}})),function(){return p=!0}},[n,V,ee]),ne=(0,d.useCallback)(function(f,p){if(j.current||(j.current=p),v){var h=p-j.current;if(h<ae)return requestAnimationFrame(function(g){return ne(f,g)});j.current=p-h%ae,z(f)}else j.current=0},[v]),Se=(0,d.useCallback)(function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=l==="horizontal",h,g;typeof S>"u"?(h=p?0:f,g=p?f:0):(h=p?Math.floor(f/S):f%S,g=p?f%S:Math.floor(f/S));var Ae=-c*g/y,je=-s*h/y;return"".concat(Ae,"px ").concat(je,"px")},[l,c,s,S,y]);return(0,d.useEffect)(function(){return U(!1),te(!1),we(n)},[n]),(0,d.useEffect)(function(){if(v){var f=I+1>=R?a:I+1;if(!v)return;if(I===R-1&&H)return F();var p=requestAnimationFrame(function(h){p=ne(f,h)});return function(){cancelAnimationFrame(p)}}},[v,R,I,a]),(0,d.useEffect)(function(){z(a)},[O]),(0,d.useEffect)(function(){typeof W=="number"&&W!==I&&z(W)},[W]),{backgroundImage:V?"url(".concat(n,")"):null,backgroundPosition:V?Se(I):null,backgroundSize:"".concat(de/y,"px ").concat(me/y,"px"),width:"".concat(c/y,"px"),height:"".concat(s/y,"px")}};N.useSprite=Ue;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useSprite",{enumerable:!0,get:function(){return a.useSprite}}),Object.defineProperty(r,"loadImage",{enumerable:!0,get:function(){return a.loadImage}}),r.SpriteAnimator=void 0;var t=n(b),e=n(Le),a=N;function n(l){return l&&l.__esModule?l:{default:l}}var c=function(){},s={className:e.default.string,width:e.default.number,height:e.default.number,sprite:e.default.string,scale:e.default.number,direction:e.default.string,shouldAnimate:e.default.bool,loop:e.default.bool,startFrame:e.default.number,fps:e.default.number,stopLastFrame:e.default.bool,onError:e.default.func,onLoad:e.default.func,onEnd:e.default.func,frameCount:e.default.number,wrapAfter:e.default.number,frame:e.default.number,reset:e.default.bool},u=function(i){var _=i.startFrame,w=i.sprite,A=i.width,m=i.height,F=i.direction,M=i.onError,k=i.onLoad,$=i.onEnd,T=i.frameCount,v=i.fps,H=i.shouldAnimate,O=i.stopLastFrame,G=i.reset,y=i.frame,S=i.className,W=i.scale,j=i.wrapAfter,X=(0,a.useSprite)({startFrame:_,sprite:w,width:A,height:m,direction:F,onError:M,onLoad:k,onEnd:$,frameCount:T,fps:v,shouldAnimate:H,stopLastFrame:O,reset:G,frame:y,scale:W,wrapAfter:j});return t.default.createElement("div",{className:S,style:X})};r.SpriteAnimator=u,u.propTypes=s,u.defaultProps={scale:1,direction:"horizontal",shouldAnimate:!0,loop:!0,startFrame:0,fps:60,onError:c,onLoad:c,onEnd:c}})(le);var Je=()=>{let[r,t]=b.useState(()=>{if(typeof window>"u")return"no-preference";let e=window.matchMedia("(prefers-color-scheme: dark)"),a=window.matchMedia("(prefers-color-scheme: light)");return e.matches?"dark":a.matches?"light":"no-preference"});return b.useEffect(()=>{if(typeof window.matchMedia!="function")return;let e=window.matchMedia("(prefers-color-scheme: dark)"),a=window.matchMedia("(prefers-color-scheme: light)");if(typeof a.addEventListener=="function"){let n=({matches:s})=>{s&&t("dark")},c=({matches:s})=>{s&&t("light")};return e.addEventListener("change",n),a.addEventListener("change",c),()=>{e.removeEventListener("change",n),a.removeEventListener("change",c)}}if(typeof a.addListener=="function"){let n=()=>t(e.matches?"dark":a.matches?"light":"no-preference");return e.addListener(n),a.addListener(n),()=>{e.removeListener(n),a.removeListener(n)}}},[]),r},Ke=Je;const Qe=({handleHomeGraphicLoaded:r})=>{const t=P(),e=P(),a=P(),n=P(),c=Ke(),[s,u]=b.useState(!1),[l,i]=b.useState("fiddle"),_=b.useRef(3),w=1,A=.5,m=1.05,F={ease:"easeOut",duration:w+A*2},M={ease:"easeOut",duration:w,delay:A},k={ease:"easeOut",duration:w+A*2},$={hide:{opacity:0},show:{opacity:1}},T={closed:{rotateX:0},fiddle:{rotateX:-30},foddle:{rotateX:-15},fuddle:{rotateX:-40},open:{rotateX:-35}},v={off:{translateY:28},fiddle:{translateY:[28,20,20,20,28]}},H={off:{scaleX:1,scaleY:1,translateZ:-100},fiddle:{scaleX:[1,m,m,m,1],scaleY:[1,m,m,m,1],translateZ:-100}};return b.useEffect(()=>{if(s)t.start("open"),e.start("fiddle"),a.start("fiddle"),n.start("show");else return},[s]),b.useEffect(()=>{const O=setTimeout(()=>{switch(l){case"fiddle":i("foddle"),_.current=6;break;case"foddle":i("fuddle"),_.current=8;break;case"fuddle":i("fiddle"),_.current=5;break}t.start(l),e.start("fiddle"),a.start("fiddle")},_.current*1e3);return function(){clearTimeout(O)}},[l]),o.jsxs(x.div,{initial:"hide",animate:n,variants:$,transition:{ease:"easeOut",duration:2,delay:.5},className:L.homeGraphicWrapper,children:[o.jsx(x.div,{initial:"off",animate:a,variants:H,transition:k,className:L.spriteWrapper,children:o.jsx(le.SpriteAnimator,{sprite:c==="dark"?"/images/face-sprite-dark.png":"/images/face-sprite-light.png",width:360,height:360,scale:1.5,frameCount:30,wrapAfter:10,fps:30,shouldAnimate:!0,className:"w-full overflow-hidden rounded-full"})}),o.jsx("div",{className:L.laptopWrapper,children:o.jsxs(x.div,{initial:"closed",animate:t,variants:T,transition:M,className:L.laptopLid,style:{originY:1,transformPerspective:1e3,scale:.9,translateZ:100},children:[o.jsx("div",{className:L.screenGlow}),o.jsx(x.div,{className:L.fidgetHand,initial:"off",animate:e,variants:v,transition:F,style:{translateX:70,translateY:28,translateZ:-1}}),o.jsx("img",{src:"/images/laptop-lid.png",width:390,height:237,className:L.laptopLidImage,alt:"laptop lid",onLoad:()=>{r(),u(!0)}})]})})]})};function ot(){const[r,t]=b.useState([]),e=b.useRef(2),a=[{timeout:2,content:"Hi there!"},{timeout:2,content:"My name is Sang"},{timeout:4,content:"I'm a designer & developer based in San Francisco"}],n=()=>{setTimeout(()=>{s(a)},2e3)};let c=0;const s=l=>{if(c<l.length){const i=l[c];u(i.content),c++,setTimeout(()=>{s(l)},i.timeout*1e3)}},u=l=>{t(i=>i.length>=3?[...i.slice(1),`${l}`]:[...i,`${l}`])};return o.jsx(o.Fragment,{children:o.jsx("section",{className:`${Ee.container} flex overflow-hidden w-full`,children:o.jsx("div",{className:"w-full flex flex-wrap space-y-20 lg:px-48 md:px-8 px-4",children:o.jsx("div",{className:"flex-shrink-0 relative w-full flex items-center justify-center",children:o.jsxs("div",{className:"flex-shrink-0 relative top-10 sm:top-0",onClick:()=>{e.current=e.current+1},children:[o.jsx(Oe,{messages:r}),o.jsx(Qe,{handleHomeGraphicLoaded:n})]})})})})})}export{ot as default};
